(this.webpackJsonptest_task_js=this.webpackJsonptest_task_js||[]).push([[0],{12:function(e,a,t){},34:function(e,a,t){e.exports=t(63)},39:function(e,a,t){},63:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(31),l=t.n(r),s=(t(39),t(20)),i=t(16),o=t.n(i),m=t(7),u=t(32),f=t(14),g=c.a.createContext(),d=(t(12),function(e){var a=e.post,t=c.a.useContext(g),n=t.toggleFavourite,r=t.filterColor;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"card ",style:{borderRadius:"8px ",overflow:"hidden",marginLeft:"10px",marginRight:"10px"}},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:a.download_url,alt:"can't find"}),c.a.createElement("button",{className:"btn-floating halfway-fab waves-effect waves-light \n            ".concat(r.includes(a.id)?"green ":"red"),onClick:function(){n(a.id,a)}},c.a.createElement("i",{className:"material-icons"},"favorite_border"))),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},a.author))))}),p=function(e){for(var a=e.paginate,t=e.nextPage,n=e.prevPage,r=e.amountOfPages,l=e.currentPage,s=[],i=function(e){l===e?s.push(c.a.createElement("li",{className:"active indigo",key:e},c.a.createElement("a",{href:"#",onClick:function(){a(e)}},e))):s.push(c.a.createElement("li",{className:"waves-effect",key:e},c.a.createElement("a",{href:"#",onClick:function(){a(e)}},e)))},o=1;o<=r;o++)i(o);return c.a.createElement("div",{style:{alignItems:"center",justifyContent:"center"}},c.a.createElement("ul",{className:"pagination center"},c.a.createElement("li",{className:"waves-effect"},c.a.createElement("a",{href:"#!",onClick:function(){return n()}},c.a.createElement("i",{className:"material-icons"},"chevron_left"))),s,c.a.createElement("li",{className:"waves-effect"},c.a.createElement("a",{href:"#!",onClick:function(){return t()}},c.a.createElement("i",{className:"material-icons"},"chevron_right")))))},v=function(){return c.a.createElement("div",{className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-blue-only"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"}))))},E=function(){var e=c.a.useContext(g),a=e.posts,t=e.cards,n=e.paginate,r=e.nextPage,l=e.prevPage,s=e.amountOfPages,i=e.currentPage;return c.a.createElement("div",{className:"container",style:{width:"100%"}},c.a.createElement("h2",null,"Images"),a.showLoading&&c.a.createElement(v,null),c.a.createElement("div",{className:"grid "},t.map((function(e){return c.a.createElement("div",{key:e.id},c.a.createElement(d,{post:e}))}))),c.a.createElement(p,{paginate:n,nextPage:r,prevPage:l,amountOfPages:s,currentPage:i}))},h=t(1),N=function(){var e=Object(h.f)(),a=c.a.useContext(g),t=a.list,n=a.updateList;return c.a.useEffect((function(){n(t)}),[]),c.a.createElement("div",{className:"container",style:{width:"100%"}},c.a.createElement("h2",null,"Favourites"),c.a.createElement("div",{className:"grid"},t.map((function(e){return c.a.createElement("div",{key:e.id},c.a.createElement(d,{post:e}))}))),c.a.createElement("button",{className:"btn indigo",onClick:function(){return e.push("/")}},"\u041d\u0430\u0437\u0430\u0434"))},b=t(9),P=function(){return c.a.createElement("div",{className:"navbar-fixed"},c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper indigo"},c.a.createElement("a",{href:"/",className:"brand-logo right"},"Romanov Nikita"),c.a.createElement("div",{className:"links"},c.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(b.b,{to:"/",className:"link"},"Images")),c.a.createElement("li",null,c.a.createElement(b.b,{to:"/favourites",className:"link"},"Favourites")))))))},O=t(19),j=t.n(O);var w=function(){var e=Object(n.useState)({posts:[],showLoading:!0,currentPage:1,postsPerPage:12,amountOfPages:30}),a=Object(f.a)(e,2),t=a[0],r=a[1],l=t.currentPage,i=t.amountOfPages,d=t.postsPerPage,p=t.posts,v="https://picsum.photos/v2/list?page=".concat(l,"&limit=").concat(d);Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()(v);case 2:a=e.sent,r(Object(m.a)(Object(m.a)({},t),{},{posts:a.data,showLoading:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=c.a.useState([]),w=Object(f.a)(O,2),k=w[0],x=w[1],y=c.a.useState([]),C=Object(f.a)(y,2),S=C[0],I=C[1],L=[],_=[],J=function(){Object.keys(localStorage).map((function(e){L=[].concat(Object(s.a)(L),[JSON.parse(localStorage.getItem(e))]),_=[].concat(Object(s.a)(_),[e])})),I(L),x(_)};c.a.useEffect((function(){J()}),[]);var F=function(e){r(Object(m.a)(Object(m.a)({},t),{},{showLoading:!0})),j.a.get("https://picsum.photos/v2/list?page=".concat(e,"&limit=").concat(d)).then((function(a){r(Object(m.a)(Object(m.a)({},t),{},{posts:a.data,currentPage:e,showLoading:!1}))}))};return c.a.createElement(g.Provider,{value:{list:S,toggleFavourite:function(e,a){localStorage.getItem(e,JSON.stringify(a))?(localStorage.removeItem(e),J()):(localStorage.setItem(e,JSON.stringify(a)),J())},posts:t,updateList:function(e){I(e)},filterColor:k,cards:p,paginate:F,prevPage:function(){1===t.currentPage?r(Object(m.a)(Object(m.a)({},t),{},{currentPage:1})):F(t.currentPage-1)},nextPage:function(){t.currentPage===i?r(Object(m.a)(Object(m.a)({},t),{},{currentPage:l})):F(t.currentPage+1)},amountOfPages:i,currentPage:l}},c.a.createElement(b.a,null,c.a.createElement(P,null),c.a.createElement("div",{className:"container"},c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/",component:E}),c.a.createElement(h.a,{exact:!0,path:"/favourites",component:N}),c.a.createElement(h.a,null)))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.52836651.chunk.js.map